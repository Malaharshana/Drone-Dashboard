{"ast":null,"code":"var _jsxFileName = \"D:\\\\DroneTelemetryDashboard\\\\frontend\\\\src\\\\components\\\\AlertsPanel.js\",\n  _s = $RefreshSig$();\n// src/components/AlertsPanel.js\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Box, Typography, Stack } from '@mui/material';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst alertStyles = {\n  base: {\n    padding: '16px',\n    borderRadius: '10px',\n    color: '#fff',\n    fontWeight: 600,\n    boxShadow: '0 0 20px rgba(255, 255, 255, 0.1)',\n    background: 'linear-gradient(135deg, #1f2937, #111827)',\n    backdropFilter: 'blur(6px)',\n    border: '1px solid rgba(255,255,255,0.1)',\n    marginBottom: '16px'\n  },\n  battery: {\n    background: 'linear-gradient(135deg, #7f1d1d, #dc2626)'\n  },\n  gps: {\n    background: 'linear-gradient(135deg, #1e3a8a, #2563eb)'\n  },\n  imu: {\n    background: 'linear-gradient(135deg, #92400e, #f97316)'\n  }\n};\nconst speak = text => {\n  if (!window.speechSynthesis) return;\n  speechSynthesis.cancel(); // Stop previous speech immediately\n  const utterance = new SpeechSynthesisUtterance(text);\n  utterance.rate = 1.05;\n  utterance.pitch = 1;\n  speechSynthesis.speak(utterance);\n};\nconst AlertsPanel = ({\n  telemetry\n}) => {\n  _s();\n  const [alerts, setAlerts] = useState([]);\n  const prevYawRef = useRef(null);\n  const lastAlertRef = useRef([]);\n  useEffect(() => {\n    if (!telemetry) return;\n    const newAlerts = [];\n    if (telemetry.battery < 3.7) {\n      newAlerts.push({\n        type: 'battery',\n        text: '⚠️ Battery Critical!',\n        speech: 'Warning. Battery level critical.'\n      });\n    }\n    if (!telemetry.gps || telemetry.gps.lat === 0 || telemetry.gps.lon === 0) {\n      newAlerts.push({\n        type: 'gps',\n        text: '📡 Lost Signal: Attempting Reconnect…',\n        speech: 'GPS signal lost. Attempting reconnect.'\n      });\n    }\n    if (prevYawRef.current !== null) {\n      const diff = Math.abs(telemetry.yaw - prevYawRef.current);\n      if (diff > 45) {\n        newAlerts.push({\n          type: 'imu',\n          text: '⚠️ Instability Detected',\n          speech: 'Drone instability detected.'\n        });\n      }\n    }\n    prevYawRef.current = telemetry.yaw;\n    const newSpeechAlerts = newAlerts.filter(alert => !lastAlertRef.current.some(a => a.text === alert.text));\n    newSpeechAlerts.forEach(alert => speak(alert.speech));\n    lastAlertRef.current = newAlerts;\n    setAlerts(newAlerts);\n  }, [telemetry]);\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 2,\n    children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: alerts.map((alert, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.95,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          scale: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          scale: 0.9,\n          y: -10\n        },\n        transition: {\n          duration: 0.4,\n          ease: 'easeInOut'\n        },\n        style: {\n          ...alertStyles.base,\n          ...(alert.type === 'battery' ? alertStyles.battery : alert.type === 'gps' ? alertStyles.gps : alertStyles.imu),\n          animation: 'pulseGlow 2s infinite alternate'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: alert.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(AlertsPanel, \"WBD1VKODgCN7cA7uuT+avifGdCk=\");\n_c = AlertsPanel;\nexport default AlertsPanel;\nvar _c;\n$RefreshReg$(_c, \"AlertsPanel\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Box","Typography","Stack","motion","AnimatePresence","jsxDEV","_jsxDEV","alertStyles","base","padding","borderRadius","color","fontWeight","boxShadow","background","backdropFilter","border","marginBottom","battery","gps","imu","speak","text","window","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","rate","pitch","AlertsPanel","telemetry","_s","alerts","setAlerts","prevYawRef","lastAlertRef","newAlerts","push","type","speech","lat","lon","current","diff","Math","abs","yaw","newSpeechAlerts","filter","alert","some","a","forEach","spacing","children","map","index","div","initial","opacity","scale","y","animate","exit","transition","duration","ease","style","animation","variant","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/DroneTelemetryDashboard/frontend/src/components/AlertsPanel.js"],"sourcesContent":["// src/components/AlertsPanel.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Box, Typography, Stack } from '@mui/material';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst alertStyles = {\r\n  base: {\r\n    padding: '16px',\r\n    borderRadius: '10px',\r\n    color: '#fff',\r\n    fontWeight: 600,\r\n    boxShadow: '0 0 20px rgba(255, 255, 255, 0.1)',\r\n    background: 'linear-gradient(135deg, #1f2937, #111827)',\r\n    backdropFilter: 'blur(6px)',\r\n    border: '1px solid rgba(255,255,255,0.1)',\r\n    marginBottom: '16px',\r\n  },\r\n  battery: {\r\n    background: 'linear-gradient(135deg, #7f1d1d, #dc2626)',\r\n  },\r\n  gps: {\r\n    background: 'linear-gradient(135deg, #1e3a8a, #2563eb)',\r\n  },\r\n  imu: {\r\n    background: 'linear-gradient(135deg, #92400e, #f97316)',\r\n  },\r\n};\r\n\r\nconst speak = (text) => {\r\n    if (!window.speechSynthesis) return;\r\n    speechSynthesis.cancel(); // Stop previous speech immediately\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.rate = 1.05;\r\n    utterance.pitch = 1;\r\n    speechSynthesis.speak(utterance);\r\n};\r\n  \r\n\r\nconst AlertsPanel = ({ telemetry }) => {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const prevYawRef = useRef(null);\r\n  const lastAlertRef = useRef([]);\r\n\r\n  useEffect(() => {\r\n    if (!telemetry) return;\r\n\r\n    const newAlerts = [];\r\n\r\n    if (telemetry.battery < 3.7) {\r\n      newAlerts.push({\r\n        type: 'battery',\r\n        text: '⚠️ Battery Critical!',\r\n        speech: 'Warning. Battery level critical.',\r\n      });\r\n    }\r\n\r\n    if (!telemetry.gps || telemetry.gps.lat === 0 || telemetry.gps.lon === 0) {\r\n      newAlerts.push({\r\n        type: 'gps',\r\n        text: '📡 Lost Signal: Attempting Reconnect…',\r\n        speech: 'GPS signal lost. Attempting reconnect.',\r\n      });\r\n    }\r\n\r\n    if (prevYawRef.current !== null) {\r\n      const diff = Math.abs(telemetry.yaw - prevYawRef.current);\r\n      if (diff > 45) {\r\n        newAlerts.push({\r\n          type: 'imu',\r\n          text: '⚠️ Instability Detected',\r\n          speech: 'Drone instability detected.',\r\n        });\r\n      }\r\n    }\r\n    prevYawRef.current = telemetry.yaw;\r\n\r\n    const newSpeechAlerts = newAlerts.filter(\r\n      (alert) => !lastAlertRef.current.some((a) => a.text === alert.text)\r\n    );\r\n\r\n    newSpeechAlerts.forEach((alert) => speak(alert.speech));\r\n    lastAlertRef.current = newAlerts;\r\n\r\n    setAlerts(newAlerts);\r\n  }, [telemetry]);\r\n\r\n  return (\r\n    <Stack spacing={2}>\r\n      <AnimatePresence>\r\n        {alerts.map((alert, index) => (\r\n          <motion.div\r\n            key={index}\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: -10 }}\r\n            transition={{ duration: 0.4, ease: 'easeInOut' }}\r\n            style={{\r\n              ...alertStyles.base,\r\n              ...(alert.type === 'battery'\r\n                ? alertStyles.battery\r\n                : alert.type === 'gps'\r\n                ? alertStyles.gps\r\n                : alertStyles.imu),\r\n              animation: 'pulseGlow 2s infinite alternate',\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\">{alert.text}</Typography>\r\n          </motion.div>\r\n        ))}\r\n      </AnimatePresence>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default AlertsPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}